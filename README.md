# Tesla Dashboard

[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg?style=flat)](https://github.com/HembergerStefan/tesla-dashboard/blob/main/LICENSE) [![GitHub stars](https://img.shields.io/github/stars/HembergerStefan/tesla-dashboard?style=flat)](https://github.com/HembergerStefan/tesla-dashboard)

A modern, fully self-hosted platform for secure remote vehicle operations. Running on your own infrastructure, it separates the public edge from internal services and validates actions with authenticated, signed requests, balancing usability with strong security guarantees. The result is a production-ready system that’s easy to deploy, maintain and extend.

---

## 🛠️ Tech Stack

- **Frontend:** [Next.js](https://nextjs.org/)
- **Backend:** [Fastify](https://www.fastify.io/)
- **Session Store:** [Redis](https://redis.io/)
- **Reverse Proxy:** [Caddy](https://caddyserver.com/)
- **Tesla Proxy:** [Tesla Vehicle Command Proxy](https://github.com/teslamotors/vehicle-command)

All components run in isolated containers via **Docker Compose**, with **Caddy** as the single public entry point. Both the backend and frontend are built with **TypeScript** and share common DTOs for consistent data structures.

---

## ✨ Highlights

- **Self-hosted & privacy-first**: only Caddy is internet-facing; all other services live on an internal Docker network.
- **Unified monorepo**: enables seamless code sharing and consistent data models (DTOs) across frontend and backend services.
- **Containerized architecture**: all components run in isolated Docker containers.
- **Scalable & maintainable**: clear separation of frontend, backend, and proxy services.
- **Production-ready**: designed for real-world deployment with minimal exposure.
- **Developer experience**: one-command bootstrap (`docker compose up -d --build`), minimal host setup.

---

## 🗂 Repository Structure

```
.
├─ backend/
├─ frontend/
│  └─ public/.well-known/appspecific/
│     └─ com.tesla.3p.public-key.pem   # your public key
├─ shared/
├─ tesla-proxy/
│  └─ config/   
│     ├─ private-key.pem               # your private key
│     ├─ tls-key.pem                   # tls key (generated by init.sh)
│     └─ tls-cert.pem                  # tls cert (generated by init.sh)
├─ caddy/
│  └─ Caddyfile
├─ docker-compose.yml
└─ init.sh
```

---

## 🚀 Quick Start Guide
> **Get your Tesla Dashboard up and running.**  
> Just follow the simple steps below to deploy your own Tesla Dashboard in no time.

### 1. 🏷️ **Obtain a Domain**
Register a domain and configure its DNS to point to your router's public IP address.

### 2. 🔗 **Configure Port Forwarding**
Set up port forwarding on your router to forward ports **80** and **443** to your local machine.

### 3. 🚗 **Register Your Tesla Application**
Follow the instructions at [Tesla Fleet API Getting Started](https://developer.tesla.com/docs/fleet-api/getting-started/what-is-fleet-api) to create your application.

### 4. 🔑 **Generate Keys and Certificates**
Run the initialization script:
```bash
sh init.sh
```

### 5. 📂 **Place Keys**
- Move the generated `private-key.pem` to `tesla-proxy/config`
- Move `public-key.pem` to `frontend/public/.well-known/appspecific` and rename it to `com.tesla.3p.public-key.pem`

### 6. ⚙️ **Configure Backend Environment**
Rename `backend/.env.example` to `backend/.env` and fill in your application details from the [Tesla Developer Dashboard](https://developer.tesla.com/de_AT/dashboard).

### 7. 📝 **Update the Caddyfile Configuration**
Open `caddy/Caddyfile` and replace the placeholder domain (`stefan-hemberger.at`) with your actual domain.

### 8. 🏗️ **Build and Start the Containers**
Start the stack:
```bash
docker compose up -d --build
```

### 9. 📱 **Enroll Your App Key with Your Vehicle**
On your phone, open:
```
https://tesla.com/_ak/<YOUR-DOMAIN>?vin=<YOUR_VIN>
```
Follow the pairing instructions to enable vehicle commands from your domain.

### 10. 🚀 **Access and Enjoy**
Your Tesla Dashboard is now ready. Access it via:
```
https://<YOUR-DOMAIN>/
```
